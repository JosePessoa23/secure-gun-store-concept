<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1431px" preserveAspectRatio="none" style="width:3621px;height:1431px;background:#FAFDFF;" version="1.1" viewBox="0 0 3621 1431" width="3621px" zoomAndPan="magnify"><defs/><g><rect fill="#FAFDFF" height="1431" style="stroke:none;stroke-width:1.0;" width="3621" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="174" x="1722.75" y="28.5352">US 01 - Reset Password</text><rect fill="#C2F0FF" height="1212.0664" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="24.5" y="128.9766"/><rect fill="#C2F0FF" height="462.3691" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="347.5" y="150.2871"/><rect fill="#C2F0FF" height="683.7656" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="545.5" y="657.2773"/><rect fill="#C2F0FF" height="403.748" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="863.5" y="179.5977"/><rect fill="#C2F0FF" height="616.1445" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="863.5" y="686.5879"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1310.5" y="208.9082"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1749.5" y="715.8984"/><rect fill="#C2F0FF" height="242.5293" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2315" y="296.1953"/><rect fill="#C2F0FF" height="454.9258" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2315" y="803.1855"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2648" y="325.5059"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2648" y="832.4961"/><rect fill="#C2F0FF" height="113.1094" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="396.3047"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="903.2949"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="974.0938"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="1044.8926"/><rect fill="#C2F0FF" height="113.1094" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="1115.6914"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="352.5" x2="352.5" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="550.5" x2="550.5" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="868" x2="868" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1315" x2="1315" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1754" x2="1754" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1953" x2="1953" y1="255.8965" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2142" x2="2142" y1="762.8867" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2320" x2="2320" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2652.5" x2="2652.5" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2870" x2="2870" y1="118.9766" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3178.5" x2="3178.5" y1="871.2402" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3352.5" x2="3352.5" y1="942.0391" y2="1350.043"/><line style="stroke:#1E90FF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3545.5" x2="3545.5" y1="1154.4355" y2="1350.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="5" y="116.0234">Client</text><ellipse cx="29.5" cy="50.9883" fill="#C2F0FF" rx="8" ry="8" style="stroke:#1E90FF;stroke-width:0.5;"/><path d="M29.5,58.9883 L29.5,85.9883 M16.5,66.9883 L42.5,66.9883 M29.5,85.9883 L16.5,100.9883 M29.5,85.9883 L42.5,100.9883 " fill="none" style="stroke:#1E90FF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="5" y="1362.5781">Client</text><ellipse cx="29.5" cy="1374.0313" fill="#C2F0FF" rx="8" ry="8" style="stroke:#1E90FF;stroke-width:0.5;"/><path d="M29.5,1382.0313 L29.5,1409.0313 M16.5,1390.0313 L42.5,1390.0313 M29.5,1409.0313 L16.5,1424.0313 M29.5,1409.0313 L42.5,1424.0313 " fill="none" style="stroke:#1E90FF;stroke-width:0.5;"/><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="208" x="248.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="194" x="255.5" y="108.0234">:ResetPasswordEmailRoute</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="208" x="248.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="194" x="255.5" y="1369.5781">:ResetPasswordEmailRoute</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="168" x="466.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154" x="473.5" y="108.0234">:ResetPasswordRoute</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="168" x="466.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154" x="473.5" y="1369.5781">:ResetPasswordRoute</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="199" x="769" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="776" y="108.0234">:ResetPasswordController</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="199" x="769" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="776" y="1369.5781">:ResetPasswordController</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="219" x="1206" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1216.5" y="91.5352">resetPasswordEmailMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="205" x="1213" y="108.0234">:ResetPasswordEmailMapper</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="219" x="1206" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1216.5" y="1369.5781">resetPasswordEmailMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="205" x="1213" y="1386.0664">:ResetPasswordEmailMapper</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="179" x="1665" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158" x="1675.5" y="91.5352">resetPasswordMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165" x="1672" y="108.0234">:ResetPasswordMapper</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="179" x="1665" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158" x="1675.5" y="1369.5781">resetPasswordMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165" x="1672" y="1386.0664">:ResetPasswordMapper</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="199" x="1854" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="1864.5" y="1369.5781">resetPasswordEmailDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="1861" y="1386.0664">:ResetPasswordEmailDTO</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="159" x="2063" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138" x="2073.5" y="1369.5781">resetPasswordDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="145" x="2070" y="1386.0664">:ResetPasswordDTO</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="176" x="2232" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="2239" y="108.0234">:ResetPasswordService</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="176" x="2232" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="2239" y="1369.5781">:ResetPasswordService</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="127" x="2589.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="2596.5" y="108.0234">:UserRepository</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="127" x="2589.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="2596.5" y="1369.5781">:UserRepository</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="204" x="2768" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="2775" y="108.0234">:ResetPasswordRepository</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="204" x="2768" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="2775" y="1369.5781">:ResetPasswordRepository</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="103" x="3127.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="3134.5" y="1369.5781">:UserSchema</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="225" x="3240.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="211" x="3247.5" y="1369.5781">:PasswordResetTokenSchema</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="140" x="3475.5" y="1349.043"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="3482.5" y="1369.5781">:PasswordSchema</text><rect fill="#C2F0FF" height="1212.0664" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="24.5" y="128.9766"/><rect fill="#C2F0FF" height="462.3691" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="347.5" y="150.2871"/><rect fill="#C2F0FF" height="683.7656" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="545.5" y="657.2773"/><rect fill="#C2F0FF" height="403.748" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="863.5" y="179.5977"/><rect fill="#C2F0FF" height="616.1445" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="863.5" y="686.5879"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1310.5" y="208.9082"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1749.5" y="715.8984"/><rect fill="#C2F0FF" height="242.5293" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2315" y="296.1953"/><rect fill="#C2F0FF" height="454.9258" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2315" y="803.1855"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2648" y="325.5059"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2648" y="832.4961"/><rect fill="#C2F0FF" height="113.1094" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="396.3047"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="903.2949"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="974.0938"/><rect fill="#C2F0FF" height="29.3105" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="1044.8926"/><rect fill="#C2F0FF" height="113.1094" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="2865" y="1115.6914"/><polygon fill="#1E90FF" points="335.5,146.2871,345.5,150.2871,335.5,154.2871,339.5,150.2871" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="34.5" x2="341.5" y1="150.2871" y2="150.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="44" y="145.5449">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="57" y="145.5449">HTTP POST: "/reset-password-email" (email)</text><polygon fill="#1E90FF" points="851.5,175.5977,861.5,179.5977,851.5,183.5977,855.5,179.5977" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="357.5" x2="857.5" y1="179.5977" y2="179.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="496.5" y="174.8555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="509.5" y="174.8555">resetPasswordEmail(req, res, next)</text><polygon fill="#1E90FF" points="1298.5,204.9082,1308.5,208.9082,1298.5,212.9082,1302.5,208.9082" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="873.5" x2="1304.5" y1="208.9082" y2="208.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="883" y="204.166">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405" x="896" y="204.166">resetPasswordEmailDTO = createResetPasswordEmailDTO(email)</text><polygon fill="#1E90FF" points="1842,234.2188,1852,238.2188,1842,242.2188,1846,238.2188" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="1315.5" x2="1848" y1="238.2188" y2="238.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1555.25" y="233.4766">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1568.25" y="233.4766">create()</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="199" x="1854" y="216.9082"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="1864.5" y="237.4434">resetPasswordEmailDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="1861" y="253.9316">:ResetPasswordEmailDTO</text><polygon fill="#1E90FF" points="2303,292.1953,2313,296.1953,2303,300.1953,2307,296.1953" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="873.5" x2="2309" y1="296.1953" y2="296.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1445.75" y="291.4531">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="1458.75" y="291.4531">resetPasswordEmail(resetPasswordEmailDTO)</text><polygon fill="#1E90FF" points="2636,321.5059,2646,325.5059,2636,329.5059,2640,325.5059" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2642" y1="325.5059" y2="325.5059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="2400" y="320.7637">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="2413" y="320.7637">user = findByEmail(email)</text><polygon fill="#1E90FF" points="3115.5,350.8164,3125.5,354.8164,3115.5,358.8164,3119.5,354.8164" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2653" x2="3121.5" y1="354.8164" y2="354.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="2790.25" y="350.0742">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2803.25" y="350.0742">user = findOne({email: email})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="103" x="3127.5" y="333.5059"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="3134.5" y="354.041">:UserSchema</text><polygon fill="#1E90FF" points="2853,392.3047,2863,396.3047,2853,400.3047,2857,396.3047" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2859" y1="396.3047" y2="396.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="2515.5" y="391.5625">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="2528.5" y="391.5625">createResetToken(user)</text><polygon fill="#1E90FF" points="3228.5,421.6152,3238.5,425.6152,3228.5,429.6152,3232.5,425.6152" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2875" x2="3234.5" y1="425.6152" y2="425.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="2952.25" y="420.873">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="2965.25" y="420.873">token = create({userId: user.id})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="225" x="3240.5" y="404.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="211" x="3247.5" y="424.8398">:PasswordResetTokenSchema</text><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2875" x2="2917" y1="467.1035" y2="467.1035"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2917" x2="2917" y1="467.1035" y2="480.1035"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2876" x2="2917" y1="480.1035" y2="480.1035"/><polygon fill="#1E90FF" points="2886,476.1035,2876,480.1035,2886,484.1035,2882,480.1035" style="stroke:#1E90FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2882" y="462.3613">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="2904" y="462.3613">sendResetPasswordEmail(user, token)</text><polygon fill="#1E90FF" points="2336,505.4141,2326,509.4141,2336,513.4141,2332,509.4141" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2330" x2="2869" y1="509.4141" y2="509.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2547.5" y="504.6719">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2569.5" y="504.6719">return token</text><polygon fill="#1E90FF" points="884.5,534.7246,874.5,538.7246,884.5,542.7246,880.5,538.7246" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="878.5" x2="2319" y1="538.7246" y2="538.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1560.75" y="533.9824">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1582.75" y="533.9824">success</text><polygon fill="#1E90FF" points="368.5,579.3457,358.5,583.3457,368.5,587.3457,364.5,583.3457" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="362.5" x2="867.5" y1="583.3457" y2="583.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="470" y="570.9482">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="493" y="563.293">res.status(200).json({message: 'Password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="496" y="578.6035">reset token has been sent to your email'})</text><polygon fill="#1E90FF" points="45.5,608.6563,35.5,612.6563,45.5,616.6563,41.5,612.6563" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="39.5" x2="351.5" y1="612.6563" y2="612.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="117.5" y="607.9141">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="139.5" y="607.9141">HTTP response (200)</text><polygon fill="#1E90FF" points="533.5,653.2773,543.5,657.2773,533.5,661.2773,537.5,657.2773" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="34.5" x2="539.5" y1="657.2773" y2="657.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="85.5" y="644.8799">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383" x="107.5" y="637.2246">HTTP POST: "/reset-password" (token, email, new_password,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="128" y="652.5352">new_password_confirmation, authentication_app_code)</text><polygon fill="#1E90FF" points="851.5,682.5879,861.5,686.5879,851.5,690.5879,855.5,686.5879" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="555.5" x2="857.5" y1="686.5879" y2="686.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="608" y="681.8457">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="630" y="681.8457">resetPassword(req, res, next)</text><polygon fill="#1E90FF" points="1737.5,711.8984,1747.5,715.8984,1737.5,719.8984,1741.5,715.8984" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="873.5" x2="1743.5" y1="715.8984" y2="715.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="883" y="711.1563">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="835" x="905" y="711.1563">resetPasswordDTO = createResetPasswordDTO(token, email, new_password, new_password_confirmation, authentication_app_code)</text><polygon fill="#1E90FF" points="2051,741.209,2061,745.209,2051,749.209,2055,745.209" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="1754.5" x2="2057" y1="745.209" y2="745.209"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1874.75" y="740.4668">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1896.75" y="740.4668">create()</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="159" x="2063" y="723.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138" x="2073.5" y="744.4336">resetPasswordDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="145" x="2070" y="760.9219">:ResetPasswordDTO</text><polygon fill="#1E90FF" points="2303,799.1855,2313,803.1855,2303,807.1855,2307,803.1855" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="873.5" x2="2309" y1="803.1855" y2="803.1855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1475.25" y="798.4434">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1497.25" y="798.4434">resetPassword(resetPasswordDTO)</text><polygon fill="#1E90FF" points="2636,828.4961,2646,832.4961,2636,836.4961,2640,832.4961" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2642" y1="832.4961" y2="832.4961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2334.5" y="827.7539">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="2356.5" y="827.7539">user = findByEmail(resetPasswordDTO.email)</text><polygon fill="#1E90FF" points="3115.5,857.8066,3125.5,861.8066,3115.5,865.8066,3119.5,861.8066" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2653" x2="3121.5" y1="861.8066" y2="861.8066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2785.75" y="857.0645">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2807.75" y="857.0645">user = findOne({email: email})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="103" x="3127.5" y="840.4961"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="3134.5" y="861.0313">:UserSchema</text><polygon fill="#1E90FF" points="2853,899.2949,2863,903.2949,2853,907.2949,2857,903.2949" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2859" y1="903.2949" y2="903.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2381.5" y="898.5527">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405" x="2403.5" y="898.5527">token = findTokenByEmail(user.email, resetPasswordDTO.token)</text><polygon fill="#1E90FF" points="3228.5,928.6055,3238.5,932.6055,3228.5,936.6055,3232.5,932.6055" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2870" x2="3234.5" y1="932.6055" y2="932.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2944.25" y="927.8633">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="2966.25" y="927.8633">token = findOne({token: token})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="225" x="3240.5" y="911.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="211" x="3247.5" y="931.8301">:PasswordResetTokenSchema</text><polygon fill="#1E90FF" points="2853,970.0938,2863,974.0938,2853,978.0938,2857,974.0938" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2859" y1="974.0938" y2="974.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2420.5" y="969.3516">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2442.5" y="969.3516">currentPassword = getCurrentUserPassword(user.id)</text><polygon fill="#1E90FF" points="3463.5,999.4043,3473.5,1003.4043,3463.5,1007.4043,3467.5,1003.4043" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2870" x2="3469.5" y1="1003.4043" y2="1003.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2971.25" y="998.6621">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="2993.25" y="998.6621">currentPassword = findOne({userId: user_id, deletedAt: null})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="140" x="3475.5" y="982.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="3482.5" y="1002.6289">:PasswordSchema</text><polygon fill="#1E90FF" points="2853,1040.8926,2863,1044.8926,2853,1048.8926,2857,1044.8926" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2859" y1="1044.8926" y2="1044.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2334.5" y="1040.1504">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="499" x="2356.5" y="1040.1504">newPassword = createNewPassword(user.id, resetPasswordDTO.new_password)</text><polygon fill="#1E90FF" points="3463.5,1070.2031,3473.5,1074.2031,3463.5,1078.2031,3467.5,1074.2031" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2870" x2="3469.5" y1="1074.2031" y2="1074.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="3004.25" y="1069.4609">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="3026.25" y="1069.4609">create({userId: user_id, password: new_password})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="140" x="3475.5" y="1052.8926"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="3482.5" y="1073.4277">:PasswordSchema</text><polygon fill="#1E90FF" points="2853,1111.6914,2863,1115.6914,2853,1119.6914,2857,1115.6914" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2325" x2="2859" y1="1115.6914" y2="1115.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2435" y="1110.9492">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="2457" y="1110.9492">deleteOldPassword(user.id, currentPassword.id)</text><polygon fill="#1E90FF" points="3463.5,1141.002,3473.5,1145.002,3463.5,1149.002,3467.5,1145.002" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2875" x2="3469.5" y1="1145.002" y2="1145.002"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2916.75" y="1140.2598">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="495" x="2938.75" y="1140.2598">update({userId: user_id, user_id: current_password_id}, {deletedAt: new Date()})</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="140" x="3475.5" y="1123.6914"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="3482.5" y="1144.2266">:PasswordSchema</text><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2875" x2="2917" y1="1186.4902" y2="1186.4902"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2917" x2="2917" y1="1186.4902" y2="1199.4902"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2876" x2="2917" y1="1199.4902" y2="1199.4902"/><polygon fill="#1E90FF" points="2886,1195.4902,2876,1199.4902,2886,1203.4902,2882,1199.4902" style="stroke:#1E90FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2882" y="1181.748">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="2904" y="1181.748">sendResetPasswordConclusionEmail(user)</text><polygon fill="#1E90FF" points="2336,1224.8008,2326,1228.8008,2336,1232.8008,2332,1228.8008" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="2330" x2="2869" y1="1228.8008" y2="1228.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2561.5" y="1224.0586">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="2583.5" y="1224.0586">success</text><polygon fill="#1E90FF" points="884.5,1254.1113,874.5,1258.1113,884.5,1262.1113,880.5,1258.1113" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="878.5" x2="2319" y1="1258.1113" y2="1258.1113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1560.75" y="1253.3691">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1582.75" y="1253.3691">success</text><polygon fill="#1E90FF" points="566.5,1298.7324,556.5,1302.7324,566.5,1306.7324,562.5,1302.7324" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="560.5" x2="867.5" y1="1302.7324" y2="1302.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="570" y="1290.335">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="592" y="1282.6797">res.status(200).json({message: 'Password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="674" y="1297.9902">has been reset'})</text><polygon fill="#1E90FF" points="45.5,1328.043,35.5,1332.043,45.5,1336.043,41.5,1332.043" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="39.5" x2="544.5" y1="1332.043" y2="1332.043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="214" y="1327.3008">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="236" y="1327.3008">HTTP response (200)</text><!--SRC=[rLTRRzis57xNho2IXxY5dMR1C0p2Mi2NhWkGrORjOYy534KwThZ8f4fIJGCZ_ts7rDKMAJUPdMv-i2qUdjl7Sxv3dVLcwY66tWj_F2z85MVf-WQ4vyaxof9016ioWcMGnceEtrG_fYks1gP8Y5_RsmP1UBSIF6NHaCTSaDDbi8oMo_eM_5Oqf4c01ZRUhaB_hzbYy64n75-Ffzw0YmX4JJ2UZjvFS-5ZtQY4Bocm4D3YDLt2DMLGLnxnQ0LY4ATGYNSTJoRNLyF-_6hyqVFweUAYRKUsmUwXaTFfx-RZzONWzutj3YkJ2YQNdm_e8waBJoz-lVpbvyjSq18-OdVMcrFr8-fBQRVaqunS_4HwP0eI59a4KjvZ8Zei0wryKyjVlaZPQxVavBURTyEOObsVa42IlbUlLYtqJS15lE_N0OsdF5LWjZjaUumuz3FLFRf3pfJWSGoYQQ2IDQs8HgH_1aa2uZEpvvX97KbcmdOVJlCkoxdHxuXyD1-xmaQH8sQKj9ksMxKQrBRsdDCCn5SQMauv5rZqFqaGKqYuf5YO3qPpUsbVMMthEcGEnxFm5jP1wJHxR6wjxA7nERy3LbDq2TrcBCgvYY46ANb80qKvaoyv3qD5lmOAa0oyFkczStMvJ_wOpoTaCfxDVNBonXHJByctzK3lEo4Ty_kgCkgY3CyXQ0HGTRbFchtH4V2bgzUxXE7eTZckKuL3OCyywrARPsmAyfQ40j2PjVqAADgmA4Z09R47XSPVl_Pptntq4C5JVRJadNUi0srBBCuKozwthMg_s_tkanIV4TGbPT7W8VFO07678xpjvy9grbOQfPhDCOFEnXZqYVbvtCPkrxGhR0VL-FLgC7pGqSwTy3XTRQVZeXcTdDAFPHbsDjhVLPGbVKuZdL-BPMSU4bZKB2IJJJVp-GJ3jNfIgM2Plhjcdtm0TOAGQHY2b6xhzfBSnm8v_s7rdqiLg5HsBYykNft_BJdhRDReC5YX-ApG8PzPrZpv-TmYtzy0_f7wfK9nyi1JaLNWsMDB-pfPQvik-papeyi4HmSG4zqULiXPk4du-xaUMTxarSrIqCnxloY4NPryVM4HShQaOctcMfVWszSjea13yxn0Ri8D4RYRn38jdZWe6ZFYW4F2EX-Seq5FXJRe3eYRbVKTG-MxvybXHabd5woZ3f1TP-V_gubI4BnsPhY_ICimV5v4ZHGBYZxwt2anC0lvUXkb_RlncWg1FL3Ix5ko0ZNC5ZNIPO7bu-zG25HvDoCe4QYFtWN5PeuW1WLHN_c4fN5yD5IGD6hnP4tyiLehmB2KIPrkZe2LvKvYW2bS-bjyTpHyidCOnr4JaPtZF4h9f4baXo7_KnPLnVnuSUkIJRr-u9wC33SVx4Q7h1t6gSHPKl79SovrUszS_x7xt3EkSkNrpJJGysviUozh-Fx_GpxUFm00]--></g></svg>